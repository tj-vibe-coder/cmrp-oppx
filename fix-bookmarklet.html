<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CMRP Workbench Fix Bookmarklet</title>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        h1 {
            color: #2563eb;
        }
        .bookmarklet {
            display: inline-block;
            padding: 10px 15px;
            background-color: #3b82f6;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            margin: 20px 0;
            font-weight: 500;
        }
        pre {
            background-color: #f3f4f6;
            padding: 15px;
            border-radius: 4px;
            overflow-x: auto;
        }
        code {
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body>
    <h1>CMRP Workbench Fix Bookmarklet</h1>
    <p>Drag this bookmarklet to your bookmarks bar:</p>
    <a class="bookmarklet" href="javascript:(function(){
        const style = document.createElement('style');
        style.textContent = `
            /* Fix board headers - make much thinner */
            .kanban-column-header {
                border-top: 1px solid transparent !important;
                border-bottom: 1px solid transparent !important;
                padding: 0.5rem 1rem !important;
                font-size: 0.75rem !important;
                font-weight: 500 !important;
                color: white !important;
            }
            #notStartedColumn .kanban-column-header { background: #64748b !important; }
            #ongoingColumn .kanban-column-header { background: #f59e0b !important; }
            #forApprovalColumn .kanban-column-header { background: #3b82f6 !important; }
            #submittedColumn .kanban-column-header { background: #10b981 !important; }

            /* Fix kanban cards for light theme - use white background */
            html:not(.dark) .kanban-card, body:not(.dark) .kanban-card {
                background-color: #ffffff !important;
                border: 1px solid #e5e7eb !important;
            }
            html:not(.dark) .kanban-card-title { color: #111827 !important; }
            html:not(.dark) .kanban-card-client, html:not(.dark) .kanban-card-details { color: #6b7280 !important; }

            /* Fix filter labels in dark mode */
            html.dark .filter-label, .dark .filter-label { color: #f3f4f6 !important; }
        `;
        document.head.appendChild(style);
        
        const themeToggle = document.querySelector('#themeToggle .material-icons');
        if (themeToggle) { themeToggle.textContent = 'wb_sunny'; }

        console.log('CMRP Workbench fixes applied!');
        alert('CMRP Workbench fixes applied!');
    })();">CMRP Workbench Fix</a>
    
    <h2>What this fixes:</h2>
    <ul>
        <li>Makes all board headers much thinner with smaller text and transparent borders.</li>
        <li>Fixes card background colors for light theme (back to white).</li>
        <li>Ensures the theme toggle button always shows a single sun icon.</li>
        <li>Fixes filter label colors in dark mode.</li>
    </ul>
    
    <h2>How to use:</h2>
    <ol>
        <li>Drag the "CMRP Workbench Fix" button to your bookmarks bar.</li>
        <li>Navigate to the Proposal Workbench page.</li>
        <li>Click the bookmark to apply the fixes.</li>
    </ol>
    
    <h2>Source code:</h2>
    <pre><code>javascript:(function(){
    const style = document.createElement('style');
    style.textContent = `
        /* Fix board headers - make much thinner */
        .kanban-column-header {
            border-top: 1px solid transparent !important;
            border-bottom: 1px solid transparent !important;
            padding: 0.5rem 1rem !important;
            font-size: 0.75rem !important;
            font-weight: 500 !important;
            color: white !important;
        }
        #notStartedColumn .kanban-column-header { background: #64748b !important; }
        #ongoingColumn .kanban-column-header { background: #f59e0b !important; }
        #forApprovalColumn .kanban-column-header { background: #3b82f6 !important; }
        #submittedColumn .kanban-column-header { background: #10b981 !important; }

        /* Fix kanban cards for light theme - use white background */
        html:not(.dark) .kanban-card, body:not(.dark) .kanban-card {
            background-color: #ffffff !important;
            border: 1px solid #e5e7eb !important;
        }
        html:not(.dark) .kanban-card-title { color: #111827 !important; }
        html:not(.dark) .kanban-card-client, html:not(.dark) .kanban-card-details { color: #6b7280 !important; }

        /* Fix filter labels in dark mode */
        html.dark .filter-label, .dark .filter-label { color: #f3f4f6 !important; }
    `;
    document.head.appendChild(style);
    
    const themeToggle = document.querySelector('#themeToggle .material-icons');
    if (themeToggle) { themeToggle.textContent = 'wb_sunny'; }

    console.log('CMRP Workbench fixes applied!');
    alert('CMRP Workbench fixes applied!');
})();</code></pre>
</body>
</html> 