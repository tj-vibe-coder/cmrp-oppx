<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Filter Dropdown Theme Fix Test</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid var(--border-container);
            border-radius: 8px;
            background-color: var(--bg-container);
        }
        .theme-demo {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        .light-theme-demo {
            padding: 20px;
            background: white;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
        }
        .dark-theme-demo {
            padding: 20px;
            background: #2d2d2d;
            border: 1px solid #404040;
            border-radius: 8px;
        }
    </style>
</head>
<body class="container">
    <div class="simple-header">
        <div class="header-left">
            <h1>üé® Filter Dropdown Theme Fix Verification</h1>
        </div>
        <div class="header-right">
            <button id="themeToggle" class="nav-square-btn" title="Toggle between light and dark theme">
                <span class="material-icons">light_mode</span>
            </button>
        </div>
    </div>

    <div class="main-container">
        <div class="test-section">
            <h2>‚úÖ Fix Applied</h2>
            <p><strong>Issue:</strong> Filter dropdown labels (Solutions, Account Mgr, PIC) with classes <code>text-sm font-medium mr-1</code> were only visible in light theme.</p>
            <p><strong>Solution:</strong> Added comprehensive CSS styling for <code>.text-sm.font-medium.mr-1</code> class with proper theme-aware colors:</p>
            <ul>
                <li><strong>Light Theme:</strong> <code>#202124</code> (dark text)</li>
                <li><strong>Dark Theme:</strong> <code>#e0e0e0</code> (light text)</li>
            </ul>
        </div>

        <div class="test-section">
            <h2>üß™ Test Filter Dropdown Labels</h2>
            <p>These labels should be clearly visible in both light and dark themes:</p>
            
            <div class="flex flex-wrap gap-4 items-center mt-4">
                <div>
                    <label for="solutionsFilter" class="text-sm font-medium mr-1">Solutions:</label>
                    <select id="solutionsFilter" data-filter-type="solutions" class="filter-dropdown">
                        <option value="all">All</option>
                        <option value="automation">Automation</option>
                        <option value="electrification">Electrification</option>
                        <option value="digitalization">Digitalization</option>
                    </select>
                </div>
                <div>
                    <label for="accountMgrFilter" class="text-sm font-medium mr-1">Account Mgr:</label>
                    <select id="accountMgrFilter" data-filter-type="accountMgr" class="filter-dropdown">
                        <option value="all">All</option>
                        <option value="john">John Smith</option>
                        <option value="jane">Jane Doe</option>
                        <option value="mike">Mike Johnson</option>
                    </select>
                </div>
                <div>
                    <label for="picFilter" class="text-sm font-medium mr-1">PIC:</label>
                    <select id="picFilter" data-filter-type="pic" class="filter-dropdown">
                        <option value="all">All</option>
                        <option value="alice">Alice Brown</option>
                        <option value="bob">Bob Wilson</option>
                        <option value="carol">Carol Davis</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>üîÑ Theme Comparison</h2>
            <p>Use the theme toggle button in the header to switch between light and dark themes. The filter labels should be clearly visible in both modes.</p>
            
            <div class="theme-demo">
                <div class="light-theme-demo">
                    <h3 style="color: #202124; margin-bottom: 10px;">Light Theme Preview</h3>
                    <div style="color: #202124; font-weight: 500; font-size: 0.875rem; margin-right: 0.25rem;">Solutions:</div>
                    <div style="color: #202124; font-weight: 500; font-size: 0.875rem; margin-right: 0.25rem;">Account Mgr:</div>
                    <div style="color: #202124; font-weight: 500; font-size: 0.875rem; margin-right: 0.25rem;">PIC:</div>
                </div>
                <div class="dark-theme-demo">
                    <h3 style="color: #e0e0e0; margin-bottom: 10px;">Dark Theme Preview</h3>
                    <div style="color: #e0e0e0; font-weight: 500; font-size: 0.875rem; margin-right: 0.25rem;">Solutions:</div>
                    <div style="color: #e0e0e0; font-weight: 500; font-size: 0.875rem; margin-right: 0.25rem;">Account Mgr:</div>
                    <div style="color: #e0e0e0; font-weight: 500; font-size: 0.875rem; margin-right: 0.25rem;">PIC:</div>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>üìù Test Instructions</h2>
            <ol>
                <li><strong>Initial Check:</strong> Verify all three filter labels (Solutions, Account Mgr, PIC) are clearly visible</li>
                <li><strong>Theme Toggle:</strong> Click the theme toggle button in the header</li>
                <li><strong>Dark Theme Check:</strong> Verify labels remain visible with light text on dark background</li>
                <li><strong>Light Theme Check:</strong> Toggle back and verify labels are visible with dark text on light background</li>
                <li><strong>Dropdown Interaction:</strong> Test that dropdown menus also work properly in both themes</li>
            </ol>
        </div>

        <div class="test-section">
            <h2>üéØ Expected Results</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                <div class="bg-green-50 border border-green-200 rounded p-4">
                    <h4 class="text-green-800 font-semibold">‚úÖ Light Theme</h4>
                    <ul class="text-green-700 text-sm mt-2">
                        <li>‚Ä¢ Labels appear in dark gray (#202124)</li>
                        <li>‚Ä¢ High contrast against white background</li>
                        <li>‚Ä¢ Easy to read and properly styled</li>
                        <li>‚Ä¢ Dropdowns have white background</li>
                    </ul>
                </div>
                <div class="bg-blue-50 border border-blue-200 rounded p-4">
                    <h4 class="text-blue-800 font-semibold">‚úÖ Dark Theme</h4>
                    <ul class="text-blue-700 text-sm mt-2">
                        <li>‚Ä¢ Labels appear in light gray (#e0e0e0)</li>
                        <li>‚Ä¢ High contrast against dark background</li>
                        <li>‚Ä¢ Easy to read and properly styled</li>
                        <li>‚Ä¢ Dropdowns have dark background</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h2>üîß Technical Details</h2>
            <p><strong>CSS Selectors Added:</strong></p>
            <ul class="text-sm font-mono bg-gray-100 p-3 rounded mt-2">
                <li>span.text-sm.font-medium.mr-1</li>
                <li>.text-sm.font-medium.mr-1</li>
                <li>label.text-sm.font-medium.mr-1</li>
                <li>body.dark .text-sm.font-medium.mr-1</li>
                <li>body:not(.dark) .text-sm.font-medium.mr-1</li>
            </ul>
            <p class="mt-2"><strong>Coverage:</strong> This fix applies to filter labels in index.html, win-loss_dashboard.html, and other pages using these classes.</p>
        </div>

        <div class="test-section">
            <h2>üöÄ Quick Actions</h2>
            <div class="flex gap-4 mt-4">
                <button onclick="window.open('index.html', '_blank')" class="theme-button px-4 py-2 rounded">
                    Test Main App
                </button>
                <button onclick="window.open('win-loss_dashboard.html', '_blank')" class="theme-button px-4 py-2 rounded">
                    Test Win-Loss Dashboard
                </button>
                <button onclick="testThemeToggle()" class="action-button px-4 py-2 rounded">
                    Auto Theme Test
                </button>
            </div>
        </div>
    </div>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const themeIcon = themeToggle.querySelector('.material-icons');

        // Initialize theme
        let isDark = localStorage.getItem('theme') === 'dark';
        updateTheme();

        themeToggle.addEventListener('click', () => {
            isDark = !isDark;
            updateTheme();
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        function updateTheme() {
            if (isDark) {
                body.classList.add('dark');
                themeIcon.textContent = 'dark_mode';
            } else {
                body.classList.remove('dark');
                themeIcon.textContent = 'light_mode';
            }
        }

        // Auto theme test function
        function testThemeToggle() {
            let currentTheme = isDark ? 'dark' : 'light';
            console.log('Starting auto theme test...');
            console.log(`Current theme: ${currentTheme}`);
            
            // Toggle to opposite theme
            themeToggle.click();
            
            setTimeout(() => {
                let newTheme = isDark ? 'dark' : 'light';
                console.log(`Switched to: ${newTheme}`);
                
                // Test label visibility
                const labels = document.querySelectorAll('.text-sm.font-medium.mr-1');
                labels.forEach((label, index) => {
                    const style = window.getComputedStyle(label);
                    console.log(`Label ${index + 1} (${label.textContent}): color = ${style.color}`);
                });
                
                // Switch back after 2 seconds
                setTimeout(() => {
                    themeToggle.click();
                    console.log(`Switched back to: ${currentTheme}`);
                    console.log('Auto theme test completed!');
                }, 2000);
            }, 500);
        }

        // Log current label colors on page load
        window.addEventListener('load', () => {
            console.log('Filter Dropdown Theme Fix Test Loaded');
            const labels = document.querySelectorAll('.text-sm.font-medium.mr-1');
            console.log(`Found ${labels.length} filter labels`);
            labels.forEach((label, index) => {
                const style = window.getComputedStyle(label);
                console.log(`Label ${index + 1} (${label.textContent}): color = ${style.color}`);
            });
        });
    </script>
</body>
</html>
